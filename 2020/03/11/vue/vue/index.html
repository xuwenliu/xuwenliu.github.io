<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="xu wen liu">
  <meta name="keywords" content="">
  <title>Vue 常用集锦 - NeverGiveUpT</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.13.0/css/mdb.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css" />

<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">



  <link  rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css" />

<link  rel="stylesheet" href="/css/main.css" />


  <link defer rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />


<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/custom.css">



<meta name="generator" content="Hexo 4.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>NeverGiveUpT</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">归档</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">分类</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">标签</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">关于</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/links/">友链</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/post.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
                <p class="mt-3 post-meta">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  2020-03-11 17:06:00
                </p>
              

              <p class="mt-1">
                
                  
                  <span class="post-meta">
                    <i class="far fa-chart-bar"></i>
                    2.4k 字
                  </span>
                

                
                  
                  <span class="post-meta">
                      <i class="far fa-clock"></i>
                      12 分钟
                  </span>
                

                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5 z-depth-3" id="board">
          <div class="post-content mx-auto" id="post">
            
              <p
                class="note note-warning">本文最后更新于：2020-05-17 21:38:35</p>
            
            <div class="markdown-body">
              <h3 id="1-v-text-v-html-中如何使用过滤器"><a href="#1-v-text-v-html-中如何使用过滤器" class="headerlink" title="1.v-text/v-html 中如何使用过滤器"></a>1.v-text/v-html 中如何使用过滤器</h3><p>Vue2.x 不再支持在 <code>v-html</code> 中使用过滤器Vue2.x 的过滤器现在只能应用在“Mustache”语法 (双大括号) 的文本插值 和 <code>v-bind</code> 中。<br>如果要使用采用如下方式：</p>
<p><code>v-html=&quot;$options.filters.过滤器名称(需要过滤的内容,[过滤器需要的参数])&quot;</code></p>
<h3 id="2-在Vue组件中动态生成的DOM类名样式不作用-deep"><a href="#2-在Vue组件中动态生成的DOM类名样式不作用-deep" class="headerlink" title="2.在Vue组件中动态生成的DOM类名样式不作用-/deep/"></a>2.在Vue组件中动态生成的DOM类名样式不作用-/deep/</h3><pre><code class="html">&lt;template&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;div v-text=&quot;text&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
    export default {
        name:&quot;app&quot;,
        data(){
            return {
                text:&lt;span class=&quot;red&quot;&gt;红色&lt;/span&gt;
            } 
        }
    }
&lt;/script&gt;

&lt;style scoped lang=&quot;less&quot;&gt;
    /deep/ .red{
        color:red;
    }
&lt;/style&gt;
</code></pre>
<p>注意：/deep/ 只是在最外层使用，不要嵌套使用。<br>参考文档：<a href="https://vue-loader.vuejs.org/guide/scoped-css.html" target="_blank" rel="noopener">deep</a></p>
<h3 id="3-使用a标签打电话"><a href="#3-使用a标签打电话" class="headerlink" title="3.使用a标签打电话"></a>3.使用a标签打电话</h3><pre><code class="html">&lt;a :href=&quot;&#39;tel:&#39;+ phone&quot;&gt;打电话&lt;/a&gt;</code></pre>
<h3 id="4-注册自定义指令"><a href="#4-注册自定义指令" class="headerlink" title="4.注册自定义指令"></a>4.注册自定义指令</h3><ul>
<li><p>全局注册</p>
<pre><code class="html">  &lt;div id=&quot;app&quot;&gt;
      &lt;p&gt;页面载入时，input 元素自动获取焦点：&lt;/p&gt;
      &lt;input v-focus&gt;
  &lt;/div&gt;

  &lt;script&gt;
  // 注册一个全局自定义指令 v-focus
  Vue.directive(&#39;focus&#39;, {
  // 当绑定元素插入到 DOM 中。
  inserted: function (el) {
      // 聚焦元素
      el.focus()
  }
  })
  // 创建根实例
  new Vue({
  el: &#39;#app&#39;
  })
  &lt;/script&gt;</code></pre>
</li>
<li><p>局部注册</p>
<pre><code class="html">  &lt;div id=&quot;app&quot;&gt;
  &lt;p&gt;页面载入时，input 元素自动获取焦点：&lt;/p&gt;
  &lt;input v-focus&gt;
  &lt;/div&gt;

  &lt;script&gt;
  // 创建根实例
  new Vue({
  el: &#39;#app&#39;,
  directives: {
      // 注册一个局部的自定义指令 v-focus
      focus: {
      // 指令的定义
      inserted: function (el) {
          // 聚焦元素
          el.focus()
      }
      }
  }
  })
  &lt;/script&gt;</code></pre>
</li>
</ul>
<h3 id="5-Prop-验证"><a href="#5-Prop-验证" class="headerlink" title="5.Prop 验证"></a>5.Prop 验证</h3><p>我们可以为组件的 prop 指定验证要求，例如你知道的这些类型。如果有一个需求没有被满足，则 Vue 会在浏览器控制台中警告你。这在开发一个会被别人用到的组件时尤其有帮助。</p>
<p>为了定制 prop 的验证方式，你可以为 props 中的值提供一个带有验证需求的<code>对象</code>，而不是一个<code>字符串数组</code>。例如：</p>
<pre><code class="js">Vue.component(&#39;my-component&#39;, {
  props: {
    // 基础的类型检查 (`null` 和 `undefined` 会通过任何类型验证)
    propA: Number,
    // 多个可能的类型
    propB: [String, Number],
    // 必填的字符串
    propC: {
      type: String,
      required: true
    },
    // 带有默认值的数字
    propD: {
      type: Number,
      default: 100
    },
    // 带有默认值的对象
    propE: {
      type: Object,
      // 对象或数组默认值必须从一个工厂函数获取
      default: function () {
        return { message: &#39;hello&#39; }
      }
    },
    // 自定义验证函数
    propF: {
      validator: function (value) {
        // 这个值必须匹配下列字符串中的一个
        return [&#39;success&#39;, &#39;warning&#39;, &#39;danger&#39;].indexOf(value) !== -1
      }
    }
  }
})</code></pre>
<h3 id="6-子组件传数据到父组件"><a href="#6-子组件传数据到父组件" class="headerlink" title="6.子组件传数据到父组件"></a>6.子组件传数据到父组件</h3><p><img src="/img/vue/%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%92.png" srcset="/img/loading.gif" alt="子组件传数据到父组件"></p>
<h3 id="7-生命周期"><a href="#7-生命周期" class="headerlink" title="7.生命周期"></a>7.生命周期</h3><p><img src="/img/vue/lifecycle.png" srcset="/img/loading.gif" alt="vue2.x生命周期"></p>
<h3 id="8-生成二维码"><a href="#8-生成二维码" class="headerlink" title="8.生成二维码"></a>8.生成二维码</h3><p><a href="https://github.com/theomessin/vue-qriously#readme" target="_blank" rel="noopener">vue-qriously</a><br><a href="https://segmentfault.com/a/1190000014875645" target="_blank" rel="noopener">生成二维码并下载</a></p>
<ul>
<li><p>如何安装并导入</p>
<pre><code class="js">  // ES6
  import Vue from &#39;vue&#39;
  import VueQriously from &#39;vue-qriously&#39;
  Vue.use(VueQriously)

  // ES5
  var Vue = require(&#39;vue&#39;)
  Vue.use(require(&#39;vue-qriously&#39;).default)
</code></pre>
</li>
<li><p>如何使用</p>
<pre><code class="html">  &lt;qriously value=&quot;Hello World!&quot; :size=&quot;200&quot; /&gt;</code></pre>
<p>参数：</p>
</li>
<li><p>background: string 二维码背景  默认：’white’</p>
</li>
<li><p>backgroundAlpha:number 二维码背景透明度 默认： 1.0</p>
</li>
<li><p>foreground:string 二维码前景色 默认：’black’</p>
</li>
<li><p>foregroundAlpha:number 二维码前景色透明度 默认：1.0</p>
</li>
<li><p>level:string 二维码误差校验等级(L,M,Q,H) 默认：’L’</p>
</li>
<li><p>mime:string 二维码图片的mine type</p>
</li>
<li><p>padding:number 二维码padding值(像素) 默认null(auto)</p>
</li>
<li><p>size:number 二维码大小(像素) 默认：100</p>
</li>
<li><p>value:string 二维码内容</p>
</li>
</ul>
<h3 id="9-60s短信验证码倒计时"><a href="#9-60s短信验证码倒计时" class="headerlink" title="9.60s短信验证码倒计时"></a>9.60s短信验证码倒计时</h3><p>countDown.vue</p>
<pre><code class="html">&lt;template&gt;
     &lt;div class=&quot;getInfobtn&quot;&gt;
        &lt;button&gt;{{time | change}}&lt;/button&gt;
     &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
let flag = false
    export default {
        data () {
            return {
                time : &#39;获取验证码&#39;,
            }
        },
        props : {
            start : {
                type : Boolean
            }
        },
        watch : {
            start (value,oldvalue) {
                if(value == true){
                    this.countDown();
                }
            }
        },
        created() {
            if(this.start==true){
                this.countDown();
            }
        },//加上这个可以实现点击另一个按钮触发这个组件的点击事件，对应的是：自动触发倒计时，就是默认就显示60s后重新获取
        methods: {
            countDown () {
                this.time = 60;
                let time = setInterval(()=&gt;{
                    this.time --;
                    if(this.time == 0){
                        this.$emit(&#39;countDown&#39;);
                        this.time = &#39;重新发送&#39;;
                        flag = true;
                        clearInterval(time);
                    }
                },1000)
            }
        },
        filters : {
            change (value) {
               if(!value) return &quot;&quot;;
               if(!isNaN(value)){
                   if(flag == true){
                       return `${value}s后重新获取`;
                   }
                   return value+&#39;s后重新获取&#39;;
               }else{
                   return value;
               }
            }
        }

    }
&lt;/script&gt;
&lt;style scoped&gt;
.getInfobtn button{
    background-color: green;
    color:#fff;
    padding: 0.1rem;
    border-radius: 0.05rem;
    width: 3rem;
}
&lt;/style&gt;</code></pre>
<p>使用：</p>
<pre><code class="html">&lt;template&gt;
    &lt;div class=&quot;getSubsidy&quot;&gt;
        //给组件绑定事件就加上.native
        &lt;countDown :start=&#39;start&#39; @countDown =&#39;start=false&#39; @click.native=&#39;sendCode&#39;&gt;&lt;/countDown&gt;
           &lt;button @click=&quot;shout&quot;&gt;点我触发上面的倒计时&lt;/button&gt;
    &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
    import countDown from &quot;./countDown&quot;
    export default{
        components:{
            countDown
        },
        data(){
            return {
                start : false
            }
        },
        methods:{
            sendCode (value) {
                //前面发送ajax请求成功之后调用this.start = true开始短信倒计时
                this.start = true
            },
            shout() {
                  this.start = true;
            },//配合组件里面的created钩子函数自动倒计时。

        }
    }
&lt;/script&gt;</code></pre>
<h3 id="10-在vue里面使用RSA加密"><a href="#10-在vue里面使用RSA加密" class="headerlink" title="10.在vue里面使用RSA加密"></a>10.在vue里面使用RSA加密</h3><p>1.将jsencrypt.min.js复制到static文件夹下面<br>2.在index.html里面引入</p>
<pre><code class="js">&lt;script type=text/javascript src=&quot;./static/jsencrypt.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<p>3.定义加密函数</p>
<pre><code class="js">&lt;script&gt;
    var Rsa = function(key) {
        var encrypt = new JSEncrypt(),
        publicKey = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCBG3UFPAxh+a0NLv6Plvjo5YPDdnlbED8dI4GP21DdFKvXVFcPb0lSRrht5Xrg7ck4PJ/fovfSi7k8MYqPY52g9tnPzkAthVOs99Tw6DVe22vV2hcs7dXvtk+TxKy4IqMjZA77hiH8wMYcJur+o4R770mrVP4fP88x53EQ4PaayQIDAQAB&quot;;
        encrypt.setPublicKey(publicKey);
        return encrypt.encrypt(key);
    }
&lt;/script&gt;</code></pre>
<p>上面定义可以在methods里面定义<br>4.使用</p>
<pre><code class="js">conosle.log(Rsa(123));</code></pre>
<h3 id="11-货币过滤器"><a href="#11-货币过滤器" class="headerlink" title="11.货币过滤器"></a>11.货币过滤器</h3><pre><code class="js">Vue.filter(&#39;currency&#39;, function (value, _currency, decimals) {
  var digitsRE = /(\d{3})(?=\d)/g;
  value = parseFloat(value);
  if (!isFinite(value) || !value &amp;&amp; value !== 0) return &#39;&#39;;
  _currency = _currency != null ? _currency : &#39;$&#39;;
  decimals = decimals != null ? decimals : 2;
  var stringified = Math.abs(value).toFixed(decimals);
  var _int = decimals ? stringified.slice(0, -1 - decimals) : stringified;
  var i = _int.length % 3;
  var head = i &gt; 0 ? _int.slice(0, i) + (_int.length &gt; 3 ? &#39;,&#39; : &#39;&#39;) : &#39;&#39;;
  var _float = decimals ? stringified.slice(-1 - decimals) : &#39;&#39;;
  var sign = value &lt; 0 ? &#39;-&#39; : &#39;&#39;;
  return sign + _currency + head + _int.slice(i).replace(digitsRE, &#39;$1,&#39;) + _float;
});</code></pre>
<h3 id="12-时间过滤器"><a href="#12-时间过滤器" class="headerlink" title="12.时间过滤器"></a>12.时间过滤器</h3><pre><code class="js">export const filterDate = (date, fmt = &#39;YYYY-MM-DD HH:mm&#39;) =&gt; {
    if (!date) {
        return &#39;&#39;;
    }
    if (typeof date === &#39;number&#39;) {
        date = new Date(date * 1000);
    }
    var o = {
      &#39;M+&#39;: date.getMonth() + 1,
      &#39;D+&#39;: date.getDate(),
      &#39;h+&#39;: date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,
      &#39;H+&#39;: date.getHours(),
      &#39;m+&#39;: date.getMinutes(),
      &#39;s+&#39;: date.getSeconds(),
      &#39;q+&#39;: Math.floor((date.getMonth() + 3) / 3),
      &#39;S&#39;: date.getMilliseconds()
    }
    var week = {
      &#39;0&#39;: &#39;\u65e5&#39;,
      &#39;1&#39;: &#39;\u4e00&#39;,
      &#39;2&#39;: &#39;\u4e8c&#39;,
      &#39;3&#39;: &#39;\u4e09&#39;,
      &#39;4&#39;: &#39;\u56db&#39;,
      &#39;5&#39;: &#39;\u4e94&#39;,
      &#39;6&#39;: &#39;\u516d&#39;
    }
    if (/(Y+)/.test(fmt)) {
      fmt = fmt.replace(RegExp.$1, (date.getFullYear() + &#39;&#39;).substr(4 - RegExp.$1.length))
    }
    if (/(E+)/.test(fmt)) {
      fmt = fmt.replace(RegExp.$1, ((RegExp.$1.length &gt; 1) ? (RegExp.$1.length &gt; 2 ? &#39;\u661f\u671f&#39; : &#39;\u5468&#39;) : &#39;&#39;) + week[date.getDay() + &#39;&#39;])
    }
    for (var k in o) {
      if (new RegExp(&#39;(&#39; + k + &#39;)&#39;).test(fmt)) {
        fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((&#39;00&#39; + o[k]).substr((&#39;&#39; + o[k]).length)))
      }
    }
    return fmt
}</code></pre>
<h3 id="13-过滤电话号码182-1234"><a href="#13-过滤电话号码182-1234" class="headerlink" title="13.过滤电话号码182****1234"></a>13.过滤电话号码182****1234</h3><pre><code class="js">Vue.filter(&#39;telfilter&#39;, function (value) {
  var data = value.split(&quot;&quot;);
  data.splice(3, 4, &quot;*&quot;, &quot;*&quot;, &quot;*&quot;, &quot;*&quot;);
  return data.join(&quot;&quot;);
})</code></pre>
<h3 id="14-vue-router-商品列表页进入商品详情页，返回商品列表回滚到之前走的位置"><a href="#14-vue-router-商品列表页进入商品详情页，返回商品列表回滚到之前走的位置" class="headerlink" title="14.vue-router 商品列表页进入商品详情页，返回商品列表回滚到之前走的位置"></a>14.vue-router 商品列表页进入商品详情页，返回商品列表回滚到之前走的位置</h3><p>条件：<br>1.必须是body在滚动<br>2.商品详情页路由需要缓存<br>3.设置路由离开保存滚动高度，回到列表是设置之前保存的滚动高度。</p>
<pre><code class="js">data:{
        return {
            scroll:0,//保存滚动高度
        }
    }，
beforeRouteLeave(to,from,next) {
        //离开的时候保存body的滚动高度
        this.scroll=document.body.scrollTop;
        next();
    },
beforeRouteEnter(to,from,next){
    //详情页回到列表页的时候设置body的滚动高度
    next(vm =&gt; {
        if(from.name==&quot;getSubsidy&quot;){//商品详情页的路由name
            document.body.scrollTop=vm.scroll;
        }
    })
},</code></pre>
<h3 id="15-vue里面获取滚动高度，并实现吸顶效果"><a href="#15-vue里面获取滚动高度，并实现吸顶效果" class="headerlink" title="15.vue里面获取滚动高度，并实现吸顶效果"></a>15.vue里面获取滚动高度，并实现吸顶效果</h3><p>1.布局</p>
<pre><code class="html">&lt;div class=&quot;xiding-outbox&quot; ref=&quot;xid&quot;&gt;
    &lt;div class=&quot;xiding-innerbox&quot; :class=&quot;{&#39;xiding&#39;:isFixed}&quot;&gt;
        &lt;div class=&quot;help&quot; @click=&quot;callHandleService(customerServicePhone)&quot;&gt;
            &lt;p class=&quot;F3 C0&quot;&gt;
                &lt;img src=&quot;../../../assets/img/material/customer_service_ic.png&quot;&gt;
                    如需帮助，点击咨询人工服务
                &lt;/p&gt;
        &lt;/div&gt;
        &lt;div class=&quot;search&quot;&gt;
            &lt;div class=&quot;search-box&quot;&gt;
                &lt;div class=&quot;search-input&quot;&gt;
                    &lt;input class=&quot;F4 C1&quot; type=&quot;text&quot; maxlength=&quot;30&quot;
                                placeholder=&quot;输入品牌名称搜索&quot; v-model.trim=&quot;queryKey&quot;&gt;
                &lt;/div&gt;
                &lt;a class=&quot;search-btn F4 C0&quot; @click=&quot;search&quot;&gt;搜索&lt;/a&gt;
            &lt;/div&gt;
            &lt;button class=&quot;F4 C0 find&quot; @click=&quot;isFade=!isFade&quot;&gt;查找我要的品类
            &lt;p&gt;&lt;/p&gt;
            &lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>2.样式</p>
<pre><code class="css">.xiding-outbox{
    height: 3.68rem;//吸顶外面固定吸顶内容的高度
    .xiding-innerbox{
        .help{
            width: 100%;
            height: 1.78667rem;
            line-height: 1.78667rem;
            background-color: #282828;
            p{
                display: inline-block;
                position: absolute;
                left: 50%;
                margin-left: -3.04rem;
                img{
                    position: relative;
                    top: 0.2rem;
                    margin-right: 0.21333rem;
                }
            }
        }
        .search{
            background-color: #fff;
            padding: 0.50667rem 0.29333rem;
            border-bottom: 1px solid #e6e6e6;
            display: flex;
            justify-content:space-between;
            .search-box{
                    display: flex;
                .search-input{
                    border:1px solid #282828;
                    border-right: none;
                    width:3.4rem;
                    height: 0.8rem;
                    border-radius: 0.08rem 0 0 0.08rem;
                    overflow: hidden;
                    input{
                        display: block;
                        box-sizing: border-box;
                        width: 100%;
                        height: 0.8rem;
                        padding-left: 0.21333rem;
                        border-radius: 0.08rem 0 0 0.08rem;
                    }
                }
                .search-btn{
                    border-radius: 0 0.08rem 0.08rem 0;
                    border:1px solid #282828;
                    height: 0.8rem;
                    line-height: 0.8rem;
                    width: 1.2rem;
                    text-align: center;
                    background-color: #282828;
                }
                .search-btn:active {  
                    opacity: 0.5; 
                } 
            }

            .find{
                background-color: #ed316b;
                height: 0.85rem;
                width: 3.4rem;
                border-radius: 0.08rem;
                border:1px solid #ed316b;
                p{
                    display: inline-block;
                    width: 0.21333rem;
                    height: 0.21333rem;
                    border:1px solid ;
                    background: transparent;
                    border-color: #fff #fff transparent transparent;
                    transform:rotateZ(45deg);
                } 
            }
        }
    }
    .xiding{
        position: fixed;
        top: 1.2rem;
        left: 0;
        z-index: 99;
        width: 100%;
    }
}</code></pre>
<p>3.在methods里面定义touchMove方法</p>
<pre><code class="js">touchMove() {
    //获取滚动高度
    var bodyTop=window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
    //获取被吸顶元素的高度
    var xidH=this.$refs.xid.offsetTop;
    if(bodyTop&gt;=xidH) {
        this.isFixed=true;
    }else{
        this.isFixed=false;

    }
},</code></pre>
<p>4.在mounted钩子函数里面给window监听scroll事件</p>
<pre><code class="js">mounted() {
    this.$nextTick(() =&gt; {
        window.addEventListener(&#39;scroll&#39;,this.touchMove);
    })
},</code></pre>

            </div>
            <hr>
            <div>
              <p>
                
                  <span>
                <i class="iconfont icon-inbox"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
                      &nbsp;
                    
                  </span>&nbsp;&nbsp;
                
                
                  <span>
                <i class="iconfont icon-tag"></i>
                    
                      <a class="hover-with-bg" href="/tags/Vue/">Vue</a>
                    
                  </span>
                
              </p>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
              
            </div>

            
              <!-- Comments -->
              <div class="comments" id="comments">
                
                
  <div id="vcomments"></div>
  <script defer src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script defer src="//unpkg.com/valine/dist/Valine.min.js"></script>

  <script type="text/javascript">
    var notify = 'false' === 'true';
    var verify = 'false' === 'true';
    var oldLoad = window.onload;
    window.onload = function () {
      new Valine({
        el: '#vcomments',
        notify: notify,
        verify: verify,
        app_id: "RVi2nheifsyLgdNUtOODWrEk-gzGzoHsz",
        app_key: "IcQeTY6Y778SNjPL5dwy9JOs",
        placeholder: "说点什么",
        avatar: "/retro",
        meta: ['nick', 'mail', 'link'],
        pageSize: "10",
      });
      oldLoad && oldLoad();
    };
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://valine.js.org" target="_blank" rel="nofollow noopener noopener">comments
      powered by Valine.</a></noscript>


              </div>
            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc-start"></div>
<div id="toc">
  <p class="h5"><i class="far fa-list-alt"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="https://cdn.staticfile.org/mdbootstrap/4.13.0/js/mdb.min.js" ></script>
<script  src="/js/main.js" ></script>


  <script  src="/js/lazyload.js" ></script>



  
  <script  src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var navHeight = $('#navbar').height();
      var post = $('#post');
      var toc = $('#toc');
      var tocLimMax = post.offset().top + post.height() - navHeight;

      $(window).scroll(function () {
        var tocLimMin = $('#toc-start').offset().top - navHeight;
        var scroH = document.body.scrollTop + document.documentElement.scrollTop;

        if (tocLimMin <= scroH && scroH <= tocLimMax) {
          toc.css({
            'display': 'block',
            'position': 'fixed',
            'top': navHeight,
          });
        } else if (scroH <= tocLimMin) {
          toc.css({
            'position': '',
            'top': '',
          });
        } else if (scroH > tocLimMax) {
          toc.css('display', 'none');
        }
      });
      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '.post-content',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        scrollSmooth: true,
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc > p').css('visibility', 'visible');
      }
      var offset = $('#board-ctn').css('margin-right')
      $('#toc-ctn').css({
        'right': offset
      })
    });
  </script>










<!-- Plugins -->



  <script  src="https://cdn.staticfile.org/prettify/188.0.0/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Vue 常用集锦&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script defer src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>





  
  
    <script>
      !function (e, t, a) {
        function r() {
          for (var e = 0; e < s.length; e++) s[e].alpha <= 0 ? (t.body.removeChild(s[e].el), s.splice(e, 1)) : (s[e].y--, s[e].scale += .004, s[e].alpha -= .013, s[e].el.style.cssText = "left:" + s[e].x + "px;top:" + s[e].y + "px;opacity:" + s[e].alpha + ";transform:scale(" + s[e].scale + "," + s[e].scale + ") rotate(45deg);background:" + s[e].color + ";z-index:99999");
          requestAnimationFrame(r)
        }

        function n() {
          var t = "function" == typeof e.onclick && e.onclick;
          e.onclick = function (e) {
            t && t(), o(e)
          }
        }

        function o(e) {
          var a = t.createElement("div");
          a.className = "heart", s.push({
            el: a,
            x: e.clientX - 5,
            y: e.clientY - 5,
            scale: 1,
            alpha: 1,
            color: c()
          }), t.body.appendChild(a)
        }

        function i(e) {
          var a = t.createElement("style");
          a.type = "text/css";
          try {
            a.appendChild(t.createTextNode(e))
          } catch (t) {
            a.styleSheet.cssText = e
          }
          t.getElementsByTagName("head")[0].appendChild(a)
        }

        function c() {
          return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"
        }

        var s = [];
        e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) {
          setTimeout(e, 1e3 / 60)
        }, i(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), n(), r()
      }(window, document);
    </script>
  








</body>
</html>
